<!DOCTYPE html>
<!-- saved from url=(0057)https://www.firebase.com/docs/javascript/firebase/on.html -->
<html class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths" lang="en"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1, user-scalable=no">
  <title>on Function - Firebase Javascript SDK</title>
  <meta name="description" content="">
  <link href="https://www.firebase.com/favicon.ico" rel="shortcut icon">
  <link href="https://www.firebase.com/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- add page-specific header contents with a tags object in the JSON -->
  <link rel="stylesheet" href="https://www.firebase.com/css/code.css">
  <script type="text/javascript" async="" src="./on Function - Firebase Javascript SDK_files/segment.min.js"></script><script type="text/javascript" async="" src="./on Function - Firebase Javascript SDK_files/intercom.v1.js"></script><script type="text/javascript" async="" src="./on Function - Firebase Javascript SDK_files/ga.js"></script><script type="text/javascript" async="" src="./on Function - Firebase Javascript SDK_files/track.js" id="cio-tracker" data-site-id="13b1bbb17c46c7cd23ad"></script><script type="text/javascript" async="" src="./on Function - Firebase Javascript SDK_files/8hz.js"></script><script type="text/javascript" async="" src="./on Function - Firebase Javascript SDK_files/analytics.min.js"></script><script type="text/javascript" src="./on Function - Firebase Javascript SDK_files/prettify.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="https://www.firebase.com/css/global.css">

  <script src="./on Function - Firebase Javascript SDK_files/modernizr-2.0.6.min.js"></script>
</head>

<body id="apiref" onload="prettyPrint()">
<div id="wrapper">
  <header id="header">
    <div class="wrapper cf api-ref-header">
      <h1 class="logo"><a href="https://www.firebase.com/"><img src="./on Function - Firebase Javascript SDK_files/logo_api_ref.png" alt=""></a></h1>
      <nav id="navbar">
        <ul class="menu cf">
          <li><a href="https://www.firebase.com/docs" class="home"></a></li><li><a href="https://www.firebase.com/docs/javascript/firebase/index.html" class="current">JavaScript</a></li><li><a href="https://www.firebase.com/docs/rest-api.html">REST</a></li><li><a href="https://www.firebase.com/docs/security/rule-expressions/index.html">Security</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="cf" id="api-ref-page">

    <div id="sidebar">
        <div class="section_head">Javascript SDK</div>
          <div class="section_topic   section_pad_top">
            <a href="https://www.firebase.com/docs/javascript/firebase/index.html">Firebase</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/new-firebase.html">new Firebase( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/auth.html">auth( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/unauth.html">unauth( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/child.html">child( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/parent.html">parent( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/root.html">root( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/name.html">name( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/tostring.html">toString( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/set.html">set( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/update.html">update( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/remove.html">remove( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/push.html">push( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/setwithpriority.html">setWithPriority( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/setpriority.html">setPriority( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/transaction.html">transaction( )</a>
          </div>
          <div class="section_topic selected sub_section ">
            <a href="./on Function - Firebase Javascript SDK_files/on Function - Firebase Javascript SDK.htm">on( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/off.html">off( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/once.html">once( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/limit.html">limit( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/startat.html">startAt( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/firebase/endat.html">endAt( )</a>
          </div>
          <div class="section_topic   section_pad_top">
            <a href="https://www.firebase.com/docs/javascript/query/index.html">Query</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/query/on.html">on( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/query/off.html">off( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/query/once.html">once( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/query/limit.html">limit( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/query/startat.html">startAt( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/query/endat.html">endAt( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/query/ref.html">ref( )</a>
          </div>
          <div class="section_topic   section_pad_top">
            <a href="https://www.firebase.com/docs/javascript/ondisconnect/index.html">onDisconnect</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/ondisconnect/set.html">set( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/ondisconnect/setwithpriority.html">setWithPriority( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/ondisconnect/update.html">update( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/ondisconnect/remove.html">remove( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/ondisconnect/cancel.html">cancel( )</a>
          </div>
          <div class="section_topic   section_pad_top">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/index.html">DataSnapshot</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/val.html">val( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/child.html">child( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/foreach.html">forEach( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/haschild.html">hasChild( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/haschildren.html">hasChildren( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/name.html">name( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/numchildren.html">numChildren( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/ref.html">ref( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/getpriority.html">getPriority( )</a>
          </div>
          <div class="section_topic  sub_section ">
            <a href="https://www.firebase.com/docs/javascript/datasnapshot/exportval.html">exportVal( )</a>
          </div>
    </div>

    <div class="api-content">
        <div id="function_page">
          <h1>on(&nbsp;)</h1>
          <p>
            on(&nbsp;) is used to listen for data changes at a particular location.  This is the primary way to read data from Firebase.  Your callback will be triggered for the initial data and again whenever the data changes.  Use <a href="https://www.firebase.com/docs/javascript/firebase/off.html" class="functionLink">off( )</a> to stop receiving updates.  See <a href="https://www.firebase.com/docs/reading-data.html">Reading Data from Firebase</a> for more details.
          </p>
          <div class="hr"></div>
          <h2>Arguments</h2>
          <div class="code_wrapper">
            <div class="function_call">
              <span class="function_name">on(&nbsp;eventType,&nbsp;callback,&nbsp;[cancelCallback],&nbsp;[context]&nbsp;)</span>
            </div>
            <div class="function_arguments">
              <span class="argument"><strong>eventType </strong> : One of the following strings: 'value', 'child_added', 'child_changed', 'child_removed' or 'child_moved'. See explanations below in the Usage section.</span>
              <span class="argument"><strong>callback </strong> : A callback that fires when the specified event occurs.  The callback will be passed a <a href="https://www.firebase.com/docs/javascript/datasnapshot/index.html">DataSnapshot</a>.  For ordering purposes, child_added, child_changed, and child_moved will also be passed a string containing the name of the previous child, by priority order (or null if it is the first child).</span>
              <span class="argument"><strong>cancelCallback <em>(optional)</em></strong> : An optional callback that will be notified if your event subscription is ever canceled because your client does not have permission to read this data (or it had permission but has now lost it).</span>
              <span class="argument"><strong>context <em>(optional)</em></strong> : If provided, this object will be used as <i>this</i> when calling your callback.</span>
            </div>
          </div>
          <h2>Returns</h2>
          <div class="code_wrapper">
            <div class="function_arguments">
              <span class="argument"><strong></strong>The provided callback function is returned unmodified.  This is just for convenience if you want to pass an inline function to <a href="./on Function - Firebase Javascript SDK_files/on Function - Firebase Javascript SDK.htm" class="functionLink">on( )</a> but store the callback function for later passing to <a href="https://www.firebase.com/docs/javascript/firebase/off.html" class="functionLink">off( )</a>.</span>
            </div>
          </div>

          <h2>Usage</h2>
          <pre class="prettyprint prettyprinted" style=""><span class="pln">firebaseRef</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'value'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">dataSnapshot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// code to handle new value.</span><span class="pln">
</span><span class="pun">});</span></pre>
          <p>
            <strong>Value</strong>: This event will trigger once with the initial data stored at this location, and then trigger again each time the data changes. The <a href="https://www.firebase.com/docs/javascript/datasnapshot/index.html">DataSnapshot</a> passed to the callback will be for the location at which “on” was called.  It won't trigger until the entire contents has been synchronized.  If the location has no data, it will be triggered with an empty DataSnapshot (<a href="https://www.firebase.com/docs/javascript/datasnapshot/val.html" class="functionLink">val( )</a> will return null).<br><br><br>
          </p>
          <pre class="prettyprint prettyprinted" style=""><span class="pln">firebaseRef</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'child_added'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">childSnapshot</span><span class="pun">,</span><span class="pln"> prevChildName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// code to handle new child.</span><span class="pln">
</span><span class="pun">});</span></pre>
          <p>
            <strong>Child Added</strong>: This event will be triggered once for each initial child at this location, and it will be triggered again every time a new child is added.  The <a href="https://www.firebase.com/docs/javascript/datasnapshot/index.html">DataSnapshot</a> passed into the callback will reflect the data for the relevant child.  For ordering purposes, it is passed a second argument which is a string containing the name of the previous sibling child by priority order (or null if it is the first child.)<br><br><br>
          </p>
          <pre class="prettyprint prettyprinted" style=""><span class="pln">firebaseRef</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'child_removed'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">oldChildSnapshot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// code to handle child removal.</span><span class="pln">
</span><span class="pun">});</span></pre>
          <p>
            <strong>Child Removed</strong>: This event will be triggered once every time a child is removed. The <a href="https://www.firebase.com/docs/javascript/datasnapshot/index.html">DataSnapshot</a> passed into the callback will be the old data for the child that was removed.  A child will get removed when either (a) a client explicitly calls <a href="https://www.firebase.com/docs/javascript/firebase/remove.html" class="functionLink">remove( )</a> on that child or one of its ancestors, (b) a client calls <a href="https://www.firebase.com/docs/javascript/firebase/set.html">set</a>(null) on that child or one of its ancestors, (c) that child has all of its children removed, or (d) there is a query in effect which now filters out the child (because it's priority changed or the max limit was hit).<br><br><br>
          </p>
          <pre class="prettyprint prettyprinted" style=""><span class="pln">firebaseRef</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'child_changed'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">childSnapshot</span><span class="pun">,</span><span class="pln"> prevChildName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// code to handle child data changes.</span><span class="pln">
</span><span class="pun">});</span></pre>
          <p>
            <strong>Child Changed</strong>: This event will be triggered when the data stored in a child (or any of its descendants) changes.  Note that a single child_changed event may represent multiple changes to the child.  The <a href="https://www.firebase.com/docs/javascript/datasnapshot/index.html">DataSnapshot</a> passed to the callback will contain the new child contents.  For ordering purposes, the callback is also passed a second argument which is a string containing the name of the previous sibling child by priority order (or null if it is the first child.)<br><br><br>
          </p>
          <pre class="prettyprint prettyprinted" style=""><span class="pln">firebaseRef</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'child_moved'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">childSnapshot</span><span class="pun">,</span><span class="pln"> prevChildName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// code to handle child ordering changes.</span><span class="pln">
</span><span class="pun">});</span></pre>
          <p>
            <strong>Child Moved</strong>: This event will be triggered when a child’s priority changes such that its position relative to its siblings changes. The <a href="https://www.firebase.com/docs/javascript/datasnapshot/index.html">DataSnapshot</a> passed to the callback will be for the data of the child that has moved.  It is also passed a second argument which is a string containing the name of the previous sibling child by priority order (or null if it is the first child.)<br><br><br>
          </p>
        </div>

    </div>

  </div>
</div> <!-- #main end -->

<script src="./on Function - Firebase Javascript SDK_files/jquery.min.js"></script>
<!--[if (gte IE 6)&(lte IE 8)]>
<script src="../../../js/selectivizr.js"></script>
<script src="../../../js/response.js"></script>
<![endif]-->
<script src="./on Function - Firebase Javascript SDK_files/global.js"></script>
<script src="./on Function - Firebase Javascript SDK_files/analyze.js"></script>



</body></html>